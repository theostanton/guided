query AvailableCountries {
    countries
}

query SearchGuides($query:String!,$pageSize:Int!,$offset:Int!,$countries:[String!]!){
    guides(filter: {
        countries: {contains: $countries}
        title:{
            likeInsensitive: $query
        }
    },first: $pageSize, offset: $offset){
        totalCount
        nodes{
            ...GuideInfo
        }
    }
}

query SearchRides($query:String!,$pageSize:Int!,$offset:Int!,$countries:[String!]!){
    rides(filter: {
        countries: {contains: $countries}
        name:{
            likeInsensitive: $query
        }
    },first: $pageSize, offset: $offset){
        totalCount
        nodes{
            ...Ride
        }
    }
}
query SearchUsers($query:String!,$pageSize:Int!,$offset:Int!,$countries:[String!]!){
    users(filter: {
        countries: {contains: $countries}
        username:{
            likeInsensitive: $query
        }
    },first: $pageSize, offset: $offset){
        totalCount
        nodes{
            ...UserInfo
        }
    }
}