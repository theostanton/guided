{"ast":null,"code":"\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=initializeBuildWatcher;var _router=_interopRequireDefault(require(\"../router\"));function initializeBuildWatcher(){var shadowHost=document.createElement('div');shadowHost.id='__next-prerender-indicator';shadowHost.style.position='fixed';shadowHost.style.bottom='20px';shadowHost.style.right='10px';shadowHost.style.width=0;shadowHost.style.height=0;shadowHost.style.zIndex=99998;shadowHost.style.transition='all 100ms ease';document.body.appendChild(shadowHost);var shadowRoot;var prefix='';if(shadowHost.attachShadow){shadowRoot=shadowHost.attachShadow({mode:'open'});}else{shadowRoot=shadowHost;prefix='__next-prerender-indicator-';}var container=createContainer(prefix);shadowRoot.appendChild(container);var css=createCss(prefix);shadowRoot.appendChild(css);var expandEl=container.querySelector('a');var closeEl=container.querySelector(\"#\"+prefix+\"close\");var dismissKey='__NEXT_DISMISS_PRERENDER_INDICATOR';var dismissUntil=parseInt(window.localStorage.getItem(dismissKey),10);var dismissed=dismissUntil>new Date().getTime();var isVisible=!dismissed&&window.__NEXT_DATA__.nextExport;function updateContainer(){if(isVisible){container.classList.add(prefix+\"visible\");}else{container.classList.remove(prefix+\"visible\");}}var expandedClass=prefix+\"expanded\";var toggleTimeout;var toggleExpand=function toggleExpand(){var expand=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;clearTimeout(toggleTimeout);toggleTimeout=setTimeout(function(){if(expand){expandEl.classList.add(expandedClass);closeEl.style.display='flex';}else{expandEl.classList.remove(expandedClass);closeEl.style.display='none';}},50);};closeEl.addEventListener('click',function(){var oneHourAway=new Date().getTime()+1*60*60*1000;window.localStorage.setItem(dismissKey,oneHourAway+'');isVisible=false;updateContainer();});closeEl.addEventListener('mouseenter',function(){return toggleExpand();});closeEl.addEventListener('mouseleave',function(){return toggleExpand(false);});expandEl.addEventListener('mouseenter',function(){return toggleExpand();});expandEl.addEventListener('mouseleave',function(){return toggleExpand(false);});_router.default.events.on('routeChangeComplete',function(){isVisible=window.next.isPrerendered;updateContainer();});updateContainer();}function createContainer(prefix){var container=document.createElement('div');container.id=prefix+\"container\";container.innerHTML=\"\\n    <button id=\\\"\"+prefix+\"close\\\" title=\\\"Hide indicator for session\\\">\\n      <span>\\xD7</span>\\n    </button>\\n    <a href=\\\"https://nextjs.org/docs#automatic-static-optimization-indicator\\\" target=\\\"_blank\\\" rel=\\\"noreferrer\\\">\\n      <div id=\\\"\"+prefix+\"icon-wrapper\\\">\\n          <svg width=\\\"15\\\" height=\\\"20\\\" viewBox=\\\"0 0 60 80\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n          <path d=\\\"M36 3L30.74 41H8L36 3Z\\\" fill=\\\"black\\\"/>\\n          <path d=\\\"M25 77L30.26 39H53L25 77Z\\\" fill=\\\"black\\\"/>\\n          <path d=\\\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\\\" fill=\\\"black\\\"/>\\n          </svg>\\n          Prerendered Page\\n      </div>\\n    </a>\\n  \";return container;}function createCss(prefix){var css=document.createElement('style');css.textContent=\"\\n    #\"+prefix+\"container {\\n      position: absolute;\\n      display: none;\\n      bottom: 10px;\\n      right: 15px;\\n    }\\n\\n    #\"+prefix+\"close {\\n      top: -10px;\\n      right: -10px;\\n      border: none;\\n      width: 18px;\\n      height: 18px;\\n      color: #333333;\\n      font-size: 16px;\\n      cursor: pointer;\\n      display: none;\\n      position: absolute;\\n      background: #ffffff;\\n      border-radius: 100%;\\n      align-items: center;\\n      flex-direction: column;\\n      justify-content: center;\\n    }\\n\\n    #\"+prefix+\"container a {\\n      color: inherit;\\n      text-decoration: none;\\n      width: 15px;\\n      height: 23px;\\n      overflow: hidden;\\n\\n      border-radius: 3px;\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: pointer;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n      font-size: 14px;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n\\n      padding: 4px 2px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: flex;\\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\\n      animation: \"+prefix+\"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper {\\n      width: 140px;\\n      height: 20px;\\n      display: flex;\\n      flex-shrink: 0;\\n      align-items: center;\\n      position: relative;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper svg {\\n      flex-shrink: 0;\\n      margin-right: 3px;\\n    }\\n\\n    #\"+prefix+\"container a.\"+prefix+\"expanded {\\n      width: 135px;\\n    }\\n\\n    #\"+prefix+\"container.\"+prefix+\"visible {\\n      display: flex;\\n      bottom: 10px;\\n      opacity: 1;\\n    }\\n\\n    @keyframes \"+prefix+\"fade-in {\\n      from {\\n        bottom: 0px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 10px;\\n        opacity: 1;\\n      }\\n    }\\n  \";return css;}","map":{"version":3,"sources":["../../../client/dev/prerender-indicator.js"],"names":["shadowHost","document","prefix","shadowRoot","mode","container","createContainer","css","createCss","expandEl","closeEl","dismissKey","dismissUntil","parseInt","window","dismissed","isVisible","expandedClass","toggleExpand","expand","clearTimeout","toggleTimeout","setTimeout","oneHourAway","updateContainer","Router"],"mappings":"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","sourcesContent":["import Router from '../router'\n\nexport default function initializeBuildWatcher() {\n  const shadowHost = document.createElement('div')\n  shadowHost.id = '__next-prerender-indicator'\n  // Make sure container is fixed and on a high zIndex so it shows\n  shadowHost.style.position = 'fixed'\n  shadowHost.style.bottom = '20px'\n  shadowHost.style.right = '10px'\n  shadowHost.style.width = 0\n  shadowHost.style.height = 0\n  shadowHost.style.zIndex = 99998\n  shadowHost.style.transition = 'all 100ms ease'\n\n  document.body.appendChild(shadowHost)\n\n  let shadowRoot\n  let prefix = ''\n\n  if (shadowHost.attachShadow) {\n    shadowRoot = shadowHost.attachShadow({ mode: 'open' })\n  } else {\n    // If attachShadow is undefined then the browser does not support\n    // the Shadow DOM, we need to prefix all the names so there\n    // will be no conflicts\n    shadowRoot = shadowHost\n    prefix = '__next-prerender-indicator-'\n  }\n\n  // Container\n  const container = createContainer(prefix)\n  shadowRoot.appendChild(container)\n\n  // CSS\n  const css = createCss(prefix)\n  shadowRoot.appendChild(css)\n\n  const expandEl = container.querySelector('a')\n  const closeEl = container.querySelector(`#${prefix}close`)\n\n  // State\n  const dismissKey = '__NEXT_DISMISS_PRERENDER_INDICATOR'\n  const dismissUntil = parseInt(window.localStorage.getItem(dismissKey), 10)\n  const dismissed = dismissUntil > new Date().getTime()\n\n  let isVisible = !dismissed && window.__NEXT_DATA__.nextExport\n\n  function updateContainer() {\n    if (isVisible) {\n      container.classList.add(`${prefix}visible`)\n    } else {\n      container.classList.remove(`${prefix}visible`)\n    }\n  }\n  const expandedClass = `${prefix}expanded`\n  let toggleTimeout\n\n  const toggleExpand = (expand = true) => {\n    clearTimeout(toggleTimeout)\n\n    toggleTimeout = setTimeout(() => {\n      if (expand) {\n        expandEl.classList.add(expandedClass)\n        closeEl.style.display = 'flex'\n      } else {\n        expandEl.classList.remove(expandedClass)\n        closeEl.style.display = 'none'\n      }\n    }, 50)\n  }\n\n  closeEl.addEventListener('click', () => {\n    const oneHourAway = new Date().getTime() + 1 * 60 * 60 * 1000\n    window.localStorage.setItem(dismissKey, oneHourAway + '')\n    isVisible = false\n    updateContainer()\n  })\n  closeEl.addEventListener('mouseenter', () => toggleExpand())\n  closeEl.addEventListener('mouseleave', () => toggleExpand(false))\n  expandEl.addEventListener('mouseenter', () => toggleExpand())\n  expandEl.addEventListener('mouseleave', () => toggleExpand(false))\n\n  Router.events.on('routeChangeComplete', () => {\n    isVisible = window.next.isPrerendered\n    updateContainer()\n  })\n  updateContainer()\n}\n\nfunction createContainer(prefix) {\n  const container = document.createElement('div')\n  container.id = `${prefix}container`\n  container.innerHTML = `\n    <button id=\"${prefix}close\" title=\"Hide indicator for session\">\n      <span>Ã—</span>\n    </button>\n    <a href=\"https://nextjs.org/docs#automatic-static-optimization-indicator\" target=\"_blank\" rel=\"noreferrer\">\n      <div id=\"${prefix}icon-wrapper\">\n          <svg width=\"15\" height=\"20\" viewBox=\"0 0 60 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M36 3L30.74 41H8L36 3Z\" fill=\"black\"/>\n          <path d=\"M25 77L30.26 39H53L25 77Z\" fill=\"black\"/>\n          <path d=\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\" fill=\"black\"/>\n          </svg>\n          Prerendered Page\n      </div>\n    </a>\n  `\n  return container\n}\n\nfunction createCss(prefix) {\n  const css = document.createElement('style')\n  css.textContent = `\n    #${prefix}container {\n      position: absolute;\n      display: none;\n      bottom: 10px;\n      right: 15px;\n    }\n\n    #${prefix}close {\n      top: -10px;\n      right: -10px;\n      border: none;\n      width: 18px;\n      height: 18px;\n      color: #333333;\n      font-size: 16px;\n      cursor: pointer;\n      display: none;\n      position: absolute;\n      background: #ffffff;\n      border-radius: 100%;\n      align-items: center;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    #${prefix}container a {\n      color: inherit;\n      text-decoration: none;\n      width: 15px;\n      height: 23px;\n      overflow: hidden;\n\n      border-radius: 3px;\n      background: #fff;\n      color: #000;\n      font: initial;\n      cursor: pointer;\n      letter-spacing: initial;\n      text-shadow: initial;\n      text-transform: initial;\n      visibility: initial;\n      font-size: 14px;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\n      padding: 4px 2px;\n      align-items: center;\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n\n      display: flex;\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\n      animation: ${prefix}fade-in 0.1s ease-in-out;\n    }\n\n    #${prefix}icon-wrapper {\n      width: 140px;\n      height: 20px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      position: relative;\n    }\n\n    #${prefix}icon-wrapper svg {\n      flex-shrink: 0;\n      margin-right: 3px;\n    }\n\n    #${prefix}container a.${prefix}expanded {\n      width: 135px;\n    }\n\n    #${prefix}container.${prefix}visible {\n      display: flex;\n      bottom: 10px;\n      opacity: 1;\n    }\n\n    @keyframes ${prefix}fade-in {\n      from {\n        bottom: 0px;\n        opacity: 0;\n      }\n      to {\n        bottom: 10px;\n        opacity: 1;\n      }\n    }\n  `\n\n  return css\n}\n"]},"metadata":{},"sourceType":"script"}