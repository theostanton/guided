{"ast":null,"code":"\"use strict\";exports.__esModule=true;exports.default=initHeadManager;var DOMAttributeNames={acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'};function reactElementToDOM(_ref){var type=_ref.type,props=_ref.props;var el=document.createElement(type);for(var p in props){if(!props.hasOwnProperty(p))continue;if(p==='children'||p==='dangerouslySetInnerHTML')continue;if(props[p]===undefined)continue;var attr=DOMAttributeNames[p]||p.toLowerCase();el.setAttribute(attr,props[p]);}var children=props.children,dangerouslySetInnerHTML=props.dangerouslySetInnerHTML;if(dangerouslySetInnerHTML){el.innerHTML=dangerouslySetInnerHTML.__html||'';}else if(children){el.textContent=typeof children==='string'?children:children.join('');}return el;}function updateElements(type,components){var headEl=document.getElementsByTagName('head')[0];var headCountEl=headEl.querySelector('meta[name=next-head-count]');if(true){if(!headCountEl){console.error('Warning: next-head-count is missing. https://err.sh/next.js/next-head-count-missing');return;}}var headCount=Number(headCountEl.content);var oldTags=[];for(var i=0,j=headCountEl.previousElementSibling;i<headCount;i++,j=j.previousElementSibling){if(j.tagName.toLowerCase()===type){oldTags.push(j);}}var newTags=components.map(reactElementToDOM).filter(function(newTag){for(var k=0,len=oldTags.length;k<len;k++){var oldTag=oldTags[k];if(oldTag.isEqualNode(newTag)){oldTags.splice(k,1);return false;}}return true;});oldTags.forEach(function(t){return t.parentNode.removeChild(t);});newTags.forEach(function(t){return headEl.insertBefore(t,headCountEl);});headCountEl.content=(headCount-oldTags.length+newTags.length).toString();}function initHeadManager(){var updatePromise=null;return function(head){var promise=updatePromise=Promise.resolve().then(function(){if(promise!==updatePromise)return;updatePromise=null;var tags={};head.forEach(function(h){var components=tags[h.type]||[];components.push(h);tags[h.type]=components;});var titleComponent=tags.title?tags.title[0]:null;var title='';if(titleComponent){var children=titleComponent.props.children;title=typeof children==='string'?children:children.join('');}if(title!==document.title)document.title=title;['meta','base','link','style','script'].forEach(function(type){updateElements(type,tags[type]||[]);});});};}","map":{"version":3,"sources":["../../client/head-manager.js"],"names":["DOMAttributeNames","acceptCharset","className","htmlFor","httpEquiv","el","document","props","p","attr","dangerouslySetInnerHTML","children","headEl","headCountEl","console","headCount","Number","oldTags","i","j","newTags","components","newTag","k","len","oldTag","t","updatePromise","head","promise","Promise","tags","h","titleComponent","title","type","updateElements"],"mappings":"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","sourcesContent":["const DOMAttributeNames = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n}\n\nfunction reactElementToDOM({ type, props }) {\n  const el = document.createElement(type)\n  for (const p in props) {\n    if (!props.hasOwnProperty(p)) continue\n    if (p === 'children' || p === 'dangerouslySetInnerHTML') continue\n\n    // we don't render undefined props to the DOM\n    if (props[p] === undefined) continue\n\n    const attr = DOMAttributeNames[p] || p.toLowerCase()\n    el.setAttribute(attr, props[p])\n  }\n\n  const { children, dangerouslySetInnerHTML } = props\n  if (dangerouslySetInnerHTML) {\n    el.innerHTML = dangerouslySetInnerHTML.__html || ''\n  } else if (children) {\n    el.textContent = typeof children === 'string' ? children : children.join('')\n  }\n  return el\n}\n\nfunction updateElements(type, components) {\n  const headEl = document.getElementsByTagName('head')[0]\n  const headCountEl = headEl.querySelector('meta[name=next-head-count]')\n  if (process.env.NODE_ENV !== 'production') {\n    if (!headCountEl) {\n      console.error(\n        'Warning: next-head-count is missing. https://err.sh/next.js/next-head-count-missing'\n      )\n      return\n    }\n  }\n\n  const headCount = Number(headCountEl.content)\n  const oldTags = []\n\n  for (\n    let i = 0, j = headCountEl.previousElementSibling;\n    i < headCount;\n    i++, j = j.previousElementSibling\n  ) {\n    if (j.tagName.toLowerCase() === type) {\n      oldTags.push(j)\n    }\n  }\n  const newTags = components.map(reactElementToDOM).filter((newTag) => {\n    for (let k = 0, len = oldTags.length; k < len; k++) {\n      const oldTag = oldTags[k]\n      if (oldTag.isEqualNode(newTag)) {\n        oldTags.splice(k, 1)\n        return false\n      }\n    }\n    return true\n  })\n\n  oldTags.forEach((t) => t.parentNode.removeChild(t))\n  newTags.forEach((t) => headEl.insertBefore(t, headCountEl))\n  headCountEl.content = (headCount - oldTags.length + newTags.length).toString()\n}\n\nexport default function initHeadManager() {\n  let updatePromise = null\n\n  return (head) => {\n    const promise = (updatePromise = Promise.resolve().then(() => {\n      if (promise !== updatePromise) return\n\n      updatePromise = null\n      const tags = {}\n\n      head.forEach((h) => {\n        const components = tags[h.type] || []\n        components.push(h)\n        tags[h.type] = components\n      })\n\n      const titleComponent = tags.title ? tags.title[0] : null\n      let title = ''\n      if (titleComponent) {\n        const { children } = titleComponent.props\n        title = typeof children === 'string' ? children : children.join('')\n      }\n      if (title !== document.title) document.title = title\n      ;['meta', 'base', 'link', 'style', 'script'].forEach((type) => {\n        updateElements(type, tags[type] || [])\n      })\n    }))\n  }\n}\n"]},"metadata":{},"sourceType":"script"}