
subscription GuideIDs($owner:String!){
    guides(
        filter: {owner: {
            equalTo: $owner
        }}
    ){
        nodes{
            ...GuideIDs
        }
    }
}

fragment GuideIDs on Guide{
    id
}

subscription Feed{
    items:query{
        newGuides:guides(
            orderBy: [CREATED_DESC]
        ){
            nodes{
                ...GuideFeedItem
            }
        }
        updatedGuides:guides(
            orderBy: [UPDATED_DESC]
        ){
            nodes{
                ...GuideFeedItem
            }
        }
        follows(orderBy: [TIMESTAMP_DESC]){
            nodes{
                ...FollowFeedItem
            }
        }
    }
}

subscription GuideStages($id: String!){
    guide(
        id: $id
    ){
        ...Guide
    }
}

subscription Followers($username:String!){
    follows(condition: {followed:$username }){
        nodes{
            user:userByFollower{
                ...UserInfo
            }
        }
    }
}

subscription Following($username:String!){
    follows(condition: {follower:$username }){
        nodes{
            user:userByFollowed{
                ...UserInfo
            }
        }
    }
}